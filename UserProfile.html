<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>User</title>
        <link rel="stylesheet" href="./Style/normalize.css">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans&family=PT+Sans:wght@400;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="./Style/Style.css">
        <script src="https://d3js.org/d3.v5.min.js"></script>
        <script src="https://unpkg.com/@hpcc-js/wasm@0.3.11/dist/index.min.js"></script>
        <script src="https://unpkg.com/d3-graphviz@3.0.5/build/d3-graphviz.js"></script>
        <script src="./Js/Script.js"></script>
        <script>
            try {
                let url = window.location.href
                var dpi = url.match(/dpi=\d+$/)[0].split('=')[1]
            } catch (error) {
                window.location.href = 'Login.html'
            }
        </script>
    </head>
    <body>
        <header id="header" class="header">
            <div class="contenedor">
                <div class="barra">
                    <a class="logo" style="cursor: pointer;" onclick="header()">
                        <h1 id="usernameClient" class="logo__nombre no-margin centrar-texto"></h1>
                    </a>
                    <nav class="navegacion">
                        <a class="navegacion__enlace" onclick="header()">Mi Biblioteca</a>
                        <a class="navegacion__enlace" onclick="libraries()">Libreras</a>
                        <a class="navegacion__enlace" onclick="salesBooks()">Compras</a>
                        <a class="navegacion__enlace" onclick="allAuthors()">Autores</a>
                        <a class="navegacion__enlace" href="./UserProfile.html">Cerrar Sesión</a>
                    </nav>
                    <script>getNameClient()</script>
                </div>
            </div>
        </header>
        <div class="bodyCharge">
            <div id="mybooks" class="mybooks">
                <h2>Mi Biblioteca</h2>
                <div id="myBuyedBooks" class="mosaico"></div>
                <script>myBooks()</script>
            </div>
            <div id="books" class="books">
                <h2>Libreras</h2>
                <h3>Categoría: Fantasia</h3>
                <div id="fantasiabook" class="mosaico"></div>
                <script>booksFantasia()</script>
                <script>ortogonalMatrix()</script>
                <h3>Categoría: Thriller</h3>
                <div id="thrillerbook" class="mosaico"></div>
                <script>booksThriller()</script>
                <script>disperseMatrix()</script>
            </div>
            <div id="buybooks" class="books">
                <h2>Compra de Libros</h2>
                <div id="saleBooks" class="mosaico"></div>
                <script>saleBooks()</script>
            </div>
            <div id="authors" class="authors">
                <h2>Autores</h2>
                <div class="mosaico" id="authorsR"></div>
                <script>authors()</script>
                <script>binaryTree(800,620)</script>
            </div>
            <div class="fondo_transparente">
                <div class="modal">
                    <div class="modal_cerrar">
                        <span>x</span>
                    </div>
                    <div id="titulomodal" class="modal_titulo"></div>
                    <div id="contenidomodal" class="modal_mensaje"></div>
                    <div id="botones" class="modal_botones"></div>
                </div>
            </div>
        </div>
        <footer></footer>
        <script>
            document.getElementsByClassName('modal_cerrar')[0].addEventListener(
                'click',
                function() {
                    document.getElementsByClassName('fondo_transparente')[0].style.display = 'none'
                    document.getElementById('contenidomodal').innerHTML = ''
                    document.getElementById('botones').innerHTML = ''
                }
            )
            window.addEventListener(
                'keydown',
                function (event) {
                    if(event.keyCode == 27) {
                        document.getElementsByClassName('fondo_transparente')[0].style.display = 'none'
                        document.getElementById('contenidomodal').innerHTML = ''
                        document.getElementById('botones').innerHTML = ''
                    }
                },
                false
            )
        </script>
    </body>
</html>